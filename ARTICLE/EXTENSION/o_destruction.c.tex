% Remember to use the lgrind style

\File{}{0000}{N/A}{00}{00:00}{0}
\L{\LB{\K{\#include}_\<\V{GL}\1\V{gl}.\V{h}\>}}
\L{\LB{\K{\#include}_\S{}\3o\_objet.h\3\SE{}}}
\L{\LB{\K{\#include}_\S{}\3s\_string.h\3\SE{}}}
\L{\LB{\K{\#include}_\S{}\3u\_graphique.h\3\SE{}}}
\L{\LB{\K{\#include}_\<\V{unistd}.\V{h}\>}}
\L{\LB{\K{\#include}_\<\V{signal}.\V{h}\>}}
\L{\LB{\K{\#include}_\<\V{fcntl}.\V{h}\>}}
\L{\LB{\K{\#include}_\<\V{sys}\1\V{wait}.\V{h}\>}}
\L{\LB{\K{struct}_\V{delet}}}
\L{\LB{\{}}
\L{\LB{__\K{int}_\V{pid}_;}\Tab{32}{\C{}\1\*_PID_du_processus_lancé_\*\1\CE{}}}
\L{\LB{__\K{int}_\V{pipe}[\N{2}]_;}\Tab{32}{\C{}\1\*_Pipe_de_communication_\*\1\CE{}}}
\L{\LB{__\V{FILE}_\*\V{entree}_;}\Tab{32}{\C{}\1\*_Fichier_lisant_dans_le_pipe_\*\1\CE{}}}
\L{\LB{\}_;}}
\L{\LB{\C{}\1\*_Cette_fonction_d\4affichage_va_afficher_a_chaque_fois}}
\L{\LB{_\*_une_chaine_de_caractere_differentes.}}
\L{\LB{_\*_Cette_chaine_de_caractere_vient_d\4une_commande_UNIX._(ls_-lsR_\1)_\*\1\CE{}}}
\L{\LB{\Proc{affichage\_ls}\K{static}_\K{void}_\V{affichage\_ls}(\K{struct}_\V{delet}_\*\V{o})}}
\L{\LB{\{}}
\L{\LB{__\V{Buffer}_\V{ligne}_;}}
\L{\LB{}}
\L{\LB{__\K{if}_(_\V{o}\-\!\>\V{pid}==\N{0}_)}}
\L{\LB{____\{}}
\L{\LB{______\C{}\1\*_PREMIER_AFFICHAGE_DE_L\4OBJET_SEULEMENT}}
\L{\LB{_______\*_Ouvre_un_pipe_pour_communiquer_et_lance_le_processus_\*\1\CE{}}}
\L{\LB{______\V{pipe}(\V{o}\-\!\>\V{pipe})_;}}
\L{\LB{______\C{}\1\*_Lance_le_processus_\*\1\CE{}}}
\L{\LB{______\V{o}\-\!\>\V{pid}_=_\V{fork}()_;}}
\L{\LB{______\K{if}_(_\V{o}\-\!\>\V{pid}_==_\N{0}_)}}
\L{\LB{}\Tab{8}{\{}}
\L{\LB{}\Tab{8}{__\C{}\1\*_Dans_le_fils_\*\1\CE{}}}
\L{\LB{}\Tab{8}{__\V{dup2}(\V{o}\-\!\>\V{pipe}[\N{1}],\N{1})_;_\C{}\1\*_La_sortie_standard_de_la_suite_=_pipe_\*\1\CE{}}}
\L{\LB{}\Tab{8}{__\V{execlp}(\S{}\3ls\3\SE{},\S{}\3ls\3\SE{},\S{}\3\-R\3\SE{},\S{}\3\1\3\SE{},\V{NULL})_;}}
\L{\LB{}\Tab{8}{__\V{exit}(\N{1})_;}}
\L{\LB{}\Tab{8}{\}}}
\L{\LB{______\C{}\1\*_Dans_le_pere_\*\1\CE{}}}
\L{\LB{______\V{o}\-\!\>\V{entree}_=_\V{fdopen}(\V{o}\-\!\>\V{pipe}[\N{0}],\S{}\3r\3\SE{})_;}}
\L{\LB{____\}}}
\L{\LB{__\C{}\1\*_On_affiche_un_texte_différent_à_chaque_affichage!_\*\1\CE{}}}
\L{\LB{__\V{fgets}(\V{ligne},\K{sizeof}(\V{ligne}),\V{o}\-\!\>\V{entree})_;}}
\L{\LB{__\V{glRasterPos3f}(\N{0.},\N{0.},\N{0.})_;}}
\L{\LB{__\V{t\_chaine}(_\V{ligne}_)_;}}
\L{\LB{\}}}
\L{\LB{\C{}\1\*_Destruction_de_l\4objet_\*\1\CE{}}}
\L{\LB{\Proc{destruction}\K{static}_\K{void}_\V{destruction}(\K{struct}_\V{delet}_\*\V{o})}}
\L{\LB{\{}}
\L{\LB{__\K{int}_\V{status}_;}}
\L{\LB{}}
\L{\LB{__\K{if}_(_\V{o}\-\!\>\V{pid}_)}\Tab{24}{\C{}\1\*_+_Fiable_\*\1\CE{}}}
\L{\LB{____\{}}
\L{\LB{______\V{kill}(\V{o}\-\!\>\V{pid},_\V{SIGTERM})_;}}
\L{\LB{______\V{waitpid}(\V{o}\-\!\>\V{pid},_\&\V{status},_\N{0})_;_\C{}\1\*_Evite_le_Zombi_\*\1\CE{}}}
\L{\LB{______\V{fclose}(\V{o}\-\!\>\V{entree})_;}}
\L{\LB{______\V{close}(\V{o}\-\!\>\V{pipe}[\N{0}])_;}}
\L{\LB{______\V{close}(\V{o}\-\!\>\V{pipe}[\N{1}])_;}}
\L{\LB{____\}}}
\L{\LB{\}}}
\L{\LB{\C{}\1\*}}
\L{\LB{_\*}}
\L{\LB{_\*\1\CE{}}}
\L{\LB{\Proc{CLASSE}\V{CLASSE}(\V{destruction},_\K{struct}_\V{delet},}}
\L{\LB{\Proc{DESTRUCTION}_______\V{DESTRUCTION}(\V{destruction})}}
\L{\LB{\Proc{CHAMP\_VIRTUEL}_______\V{CHAMP\_VIRTUEL}(\V{L\_affiche\_gl}(\V{affichage\_ls}))}}
\L{\LB{_______)}}
